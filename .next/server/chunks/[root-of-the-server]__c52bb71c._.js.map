{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Toby/frontend-app/frontendApp/src/app/api/todolist/%5Bid%5D/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { promises as fs } from \"fs\";\r\nimport path from \"path\";\r\n\r\n// path file json -> app/json/todolist.json\r\nexport const file = path.join(process.cwd() + \"/src/app/json/todolist.json\")\r\n\r\n// delete todo by id\r\nexport async function DELETE(request: Request) {\r\n    const url = new URL(request.url)\r\n    const id = url.pathname.split(\"/\").pop()\r\n    const raw = await fs.readFile(file, \"utf-8\")\r\n    const data = JSON.parse(raw);\r\n\r\n    if (!id) return NextResponse.json({ success: false, error: \"Missing id\" })\r\n\r\n    data.todos = data.todos.filter((todo: any) => Number(todo.id) !== Number(id));\r\n\r\n    await fs.writeFile(file, JSON.stringify(data, null, 2), \"utf-8\");\r\n\r\n    return NextResponse.json({ success: true });\r\n}\r\n\r\n// change status todo by id\r\nexport async function PATCH(request: Request) {\r\n    const body = await request.json()\r\n    const raw = await fs.readFile(file, \"utf-8\")\r\n    const { id, status } = body\r\n    const data = JSON.parse(raw);\r\n\r\n    data.todos = data.todos.map((todo: any) => todo.id === id ? { ...todo, status } : todo)\r\n\r\n    await fs.writeFile(file, JSON.stringify(data, null, 2), \"utf-8\")\r\n\r\n    return NextResponse.json({ data })\r\n}\r\n\r\n// get todo by id\r\nexport async function GET(request: Request) {\r\n    const body = await request.json()\r\n    const raw = await fs.readFile(file, 'utf-8')\r\n    const id = body\r\n    const data = JSON.parse(raw);\r\n\r\n    data.todos = data.todos.filter((todo: any) => todo.id === id)\r\n    \r\n    return NextResponse.json(data.todos)\r\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAGO,MAAM,OAAO,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK;AAGvC,eAAe,OAAO,OAAgB;IACzC,MAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;IAC/B,MAAM,KAAK,IAAI,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG;IACtC,MAAM,MAAM,MAAM,6FAAA,CAAA,WAAE,CAAC,QAAQ,CAAC,MAAM;IACpC,MAAM,OAAO,KAAK,KAAK,CAAC;IAExB,IAAI,CAAC,IAAI,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,SAAS;QAAO,OAAO;IAAa;IAExE,KAAK,KAAK,GAAG,KAAK,KAAK,CAAC,MAAM,CAAC,CAAC,OAAc,OAAO,KAAK,EAAE,MAAM,OAAO;IAEzE,MAAM,6FAAA,CAAA,WAAE,CAAC,SAAS,CAAC,MAAM,KAAK,SAAS,CAAC,MAAM,MAAM,IAAI;IAExD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,SAAS;IAAK;AAC7C;AAGO,eAAe,MAAM,OAAgB;IACxC,MAAM,OAAO,MAAM,QAAQ,IAAI;IAC/B,MAAM,MAAM,MAAM,6FAAA,CAAA,WAAE,CAAC,QAAQ,CAAC,MAAM;IACpC,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG;IACvB,MAAM,OAAO,KAAK,KAAK,CAAC;IAExB,KAAK,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,OAAc,KAAK,EAAE,KAAK,KAAK;YAAE,GAAG,IAAI;YAAE;QAAO,IAAI;IAElF,MAAM,6FAAA,CAAA,WAAE,CAAC,SAAS,CAAC,MAAM,KAAK,SAAS,CAAC,MAAM,MAAM,IAAI;IAExD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE;IAAK;AACpC;AAGO,eAAe,IAAI,OAAgB;IACtC,MAAM,OAAO,MAAM,QAAQ,IAAI;IAC/B,MAAM,MAAM,MAAM,6FAAA,CAAA,WAAE,CAAC,QAAQ,CAAC,MAAM;IACpC,MAAM,KAAK;IACX,MAAM,OAAO,KAAK,KAAK,CAAC;IAExB,KAAK,KAAK,GAAG,KAAK,KAAK,CAAC,MAAM,CAAC,CAAC,OAAc,KAAK,EAAE,KAAK;IAE1D,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,KAAK,KAAK;AACvC","debugId":null}}]
}